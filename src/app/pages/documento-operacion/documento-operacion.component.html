<div *ngIf="documento == undefined">
  <h3 class="text-700">Seleccionar un documento</h3>
</div>

<!-- Tramite inscripcion -->
<div *ngIf="documento" class="grid">
  <div class="col-12 xl:col-3">
    <div class="col-12">
      <span class="text-900 font-semibold mr-2">Tr√°mite sup tipo:</span>
      <p class="text-700 font-medium mt-0 mb-0">{{ documento.nombreTramiteSubTipo }}</p>
      <span class="text-900 font-semibold mr-2">Fecha:</span>
      <span class="text-900 font-medium">{{ documento.fechaRegistro }}</span>
    </div>
    <div class="col-12">
      <div class="flex flex-column align-items-center">
        <h4 class="text-900 mb-1 mt-0">{{ documento.nombreDocumentoTipo | titlecase }}</h4>
        <p-image src="{{documento.adjunto}}" alt="Image" width="100" [preview]="true"></p-image>
      </div>
    </div>
  </div>
  <div class="col-12 sm:col-12 md:col-12 lg:col-12 xl:col-9">
    <!-- Formulario de operaciones -->
    <div class="flex justify-content-between align-content-start">
      <h3 class="text-700">Registrar operacion</h3>
      <div>
        <p-button label="Nuevo" (click)="nuevaOperacion()" styleClass="p-button-secondary" class="mr-2"></p-button>
        <p-button label="Guardar" [loading]="savedLoading" (click)="guardarOperacion()"></p-button>
      </div>
    </div>

    <div class="grid mt-2">
      <div *ngIf="fechaOperacion.length > 0" class="col-12 md:col-4">
        <span class="text-900 font-semibold mr-2">Fecha:</span>
        <span class="font-medium"> {{ fechaOperacion | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="col-12 md:col-8">
        <span class="text-900 font-semibold mr-2">Funcionario:</span>
        <span class="font-medium"> {{ nombreFuncionario }}</span>
      </div>
    </div>

    <div class="grid">
      <div class="col-12 md:col-4">
        <div class="flex flex-column gap-2">
          <label htmlFor="tipo-operacion">Tipo de Operacion</label>
          <p-dropdown [options]="documentoOperacionTipos" (onChange)="setSelectedDocumentoOperacionTipo($event)"
            [(ngModel)]="documentoOperacionTipoSelected" optionLabel="nombre" class="p-inputtext-sm"></p-dropdown>
        </div>
      </div>
      <div class="col-12 md:col-8">
        <div class="flex flex-column gap-2">
          <label htmlFor="descripcion">Descripcion</label>
          <input pInputText [(ngModel)]="descripcion" id="descripcion" class="p-inputtext-sm" />
          <small id="descripcion-help"></small>
        </div>
      </div>
    </div>

    <h3 class="mt-0 mb-0 text-700">Subir imagen/archivo</h3>
    <div class="grid flex-wrap mt-3">
      <div class="col-12 md:col-6 lg:col-4">
        <div class="flex flex-column align-justify-center">
          <app-dragndrop (fileDropped)="setUri($event)" [uri]="adjunto" [tipeAccept]="'.jpg,.png,.gif,.pdf'"></app-dragndrop>
        </div>
      </div>
    </div>
  </div>
</div>

<p-toast></p-toast>

<div *ngIf="dataCargada else spinner">
  <div class="grid">
    <div class="col-12 md:col-6 field" style="padding-top: 2rem; ">
      <span appearance="outline" class="p-float-label">
        <p-dropdown [options]="carrera" optionLabel="nombre" [filter]="true" filterBy="nombre" [showClear]="true"
          optionValue="id" id="float-input" styleClass="w-full" [(ngModel)]="selectcarrera">
        </p-dropdown>
        <label for="float-input">Carreras</label>
      </span>
    </div>
    <div class="col-12 md:col-6 field" style="padding-top: 2rem;">
      <span appearance="outline" class="p-float-label">
        <p-dropdown [options]="ltramite" [group]="true" [(ngModel)]="selectramite">
          <ng-template let-group pTemplate="group ">
            <div class="flex align-items-center">
              <span>{{ group.label | uppercase }}</span>
            </div>
          </ng-template>
        </p-dropdown>
        <label for="float-input">Tramites</label>
      </span>
    </div>
  </div>

  <div class="grid">
    <div class="col-12">
      <p-card *ngIf="tabla">
        <p-table [value]="listadocument">
          <ng-template pTemplate="header">
            <tr>
              <th style="text-align: center;">Nombre documento</th>
              <th>Tipo de documento</th>
              <th>Cantidad mínima</th>
              <th>Plazo maximo</th>
              <th>Eliminar</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr>
              <td style="width: 55%;">
                <p-dropdown [options]="tipodocumento" optionLabel="nombre" [filter]="true" filterBy="nombre"
                  [showClear]="true" optionValue="documentoTipoId" id="float-input" [(ngModel)]="item.documentoTipoId"
                  class="prueba">
                </p-dropdown>
              </td>
              <td>
                <p-dropdown [options]="estadoPlantilla" optionLabel="nombre" [filter]="true" filterBy="nombre"
                  [showClear]="true" optionValue="estadoId" id="float-input" styleClass="w-full"
                  [(ngModel)]="item.estadoId">
                </p-dropdown>
              </td>
              <td style="text-align: center;">
                <p-inputNumber inputId="integeronly" [(ngModel)]="item.cantidadMinima">
                </p-inputNumber>
              </td>
              <td style="text-align: center;">
                <p-inputNumber inputId="integeronly" [(ngModel)]="item.plazoMaximo">
                </p-inputNumber> días
              </td>
              <td>
                <button (click)="eliminarElemento(item.documentoTipoId)" pButton pRipple type="button"
                  [icon]="'pi pi-trash'" class="p-button-rounded btn-float p-button-danger" title="borrar"></button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </p-card>
    </div>

    <button (click)="agregarPlantilla()" pButton pRipple type="button" [icon]="'pi pi-save'"
      class="p-button-rounded btn-float p-button-primary btn-save" title="Guardar Plantilla"></button>

    <button (click)="agregarElemento()" pButton pRipple type="button" [icon]="'pi pi-plus'"
      class="p-button-rounded btn-float p-button-primary btn-agregar " title="Agregar Plantilla"></button>
  </div>
</div>




<ng-template #spinner>
  <div class="w-full text-center">
    <app-loader style="padding-bottom: 15rem;"></app-loader>
  </div>
</ng-template>